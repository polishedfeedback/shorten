import{a as d,f as L,t as j}from"../chunks/CgIzCHWt.js";import{o as G}from"../chunks/BllHz6Nw.js";import{p as H,t as E,g as r,a as K,s,c as a,r as o,n as Q,b as n,d as p}from"../chunks/BQNkOFaZ.js";import{d as V,a as W,e as X,s as I}from"../chunks/DXC2exyq.js";import{i as T,s as Y,a as Z}from"../chunks/lq4UHFV3.js";import{r as q}from"../chunks/CpoaiWnb.js";import{b as A,t as B,a as tt,B as et,l as at}from"../chunks/ChdntlBo.js";import{g as ot}from"../chunks/7lrU0nzN.js";var rt=L('<div class="bg-red-500 border-2 border-red-700 text-white font-mono text-sm font-bold p-3 mb-6"> </div>'),st=L('<div class="min-h-screen flex items-center justify-center p-4" style="background: var(--bg); color: var(--text);"><div class="fixed top-4 right-4"><button class="font-mono text-xs font-bold uppercase tracking-widest px-3 py-2 transition-all" style="border: 2px solid var(--border); color: var(--text);"><!></button></div> <div class="w-full max-w-md"><div class="mb-8"><p class="font-mono text-xs font-bold tracking-widest uppercase text-orange-500 mb-2">// Link Shortener</p> <h1 class="font-mono text-4xl font-bold leading-none">Sign<br/> <span style="-webkit-text-stroke: 2px var(--text); color: transparent;">In</span></h1></div> <div class="p-8" style="background: var(--card-bg); border: 2.5px solid var(--border); box-shadow: 5px 5px 0 var(--border);"><!> <form class="flex flex-col gap-5"><div class="flex flex-col gap-1.5"><label for="username" class="font-mono text-xs font-bold uppercase tracking-widest" style="color: var(--text-muted);">Username</label> <input id="username" type="text" placeholder="your username" required="" class="p-3 font-sans text-sm outline-none transition-all" style="background: var(--bg); border: 2px solid var(--border); color: var(--text);"/></div> <div class="flex flex-col gap-1.5"><label for="password" class="font-mono text-xs font-bold uppercase tracking-widest" style="color: var(--text-muted);">Password</label> <input id="password" type="password" placeholder="your password" required="" class="p-3 font-sans text-sm outline-none transition-all" style="background: var(--bg); border: 2px solid var(--border); color: var(--text);"/></div> <button type="submit" class="bg-orange-500 text-white font-mono font-bold text-sm uppercase tracking-widest py-3 px-6 transition-all disabled:opacity-50 disabled:cursor-not-allowed" style="border: 2.5px solid var(--border); box-shadow: 4px 4px 0 var(--border);"> </button></form></div> <p class="font-mono text-xs text-center mt-4" style="color: var(--text-muted);">shorten.krishnasaimarupudi.com</p></div></div>');function bt(O,P){H(P,!0);const U=()=>Z(B,"$theme",C),[C,D]=Y();let c=p(""),v=p(""),l=p(""),i=p(!1);G(()=>{B.subscribe(t=>{document.documentElement.setAttribute("data-theme",t)})});async function J(t){t.preventDefault(),n(i,!0),n(l,"");try{const e=await fetch(`${et}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r(c),password:r(v)})});if(!e.ok)throw new Error("Invalid credentials");const y=await e.json();at(y.token),ot("/dashboard")}catch(e){n(l,e.message,!0)}finally{n(i,!1)}}var m=st(),b=a(m),u=a(b),M=a(u);{var N=t=>{var e=j("â˜€ï¸");d(t,e)},R=t=>{var e=j("ðŸŒ™");d(t,e)};T(M,t=>{U()==="dark"?t(N):t(R,!1)})}o(u),o(b);var w=s(b,2),_=s(a(w),2),k=a(_);{var z=t=>{var e=rt(),y=a(e);o(e),E(()=>I(y,`âœ— ${r(l)??""}`)),d(t,e)};T(k,t=>{r(l)&&t(z)})}var x=s(k,2),f=a(x),S=s(a(f),2);q(S),o(f);var g=s(f,2),$=s(a(g),2);q($),o(g);var h=s(g,2),F=a(h,!0);o(h),o(x),o(_),Q(2),o(w),o(m),E(()=>{h.disabled=r(i),I(F,r(i)?"Signing in...":"Sign In â†’")}),W("click",u,function(...t){tt?.apply(this,t)}),X("submit",x,J),A(S,()=>r(c),t=>n(c,t)),A($,()=>r(v),t=>n(v,t)),d(O,m),K(),D()}V(["click"]);export{bt as component};
