import{O as h,P as k,Q as g,R as S,h as b,j as l,S as _}from"./BQNkOFaZ.js";import{w as f}from"./BllHz6Nw.js";function x(e,a,u=a){var c=new WeakSet;h(e,"input",async r=>{var t=r?e.defaultValue:e.value;if(t=n(e)?m(t):t,u(t),l!==null&&c.add(l),await k(),t!==(t=a())){var v=e.selectionStart,o=e.selectionEnd,d=e.value.length;if(e.value=t??"",o!==null){var s=e.value.length;v===o&&o===d&&s>d?(e.selectionStart=s,e.selectionEnd=s):(e.selectionStart=v,e.selectionEnd=Math.min(o,s))}}}),(b&&e.defaultValue!==e.value||g(a)==null&&e.value)&&(u(n(e)?m(e.value):e.value),l!==null&&c.add(l)),S(()=>{var r=a();if(e===document.activeElement){var t=_??l;if(c.has(t))return}n(e)&&r===m(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function n(e){var a=e.type;return a==="number"||a==="range"}function m(e){return e===""?null:+e}const A="https://shorten.krishnasaimarupudi.com",i=f(localStorage.getItem("token"));function B(e){localStorage.setItem("token",e),i.set(e)}function M(){localStorage.removeItem("token"),i.set(null)}const E=()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=f(E());function R(){I.update(e=>{const a=e==="dark"?"light":"dark";return localStorage.setItem("theme",a),document.documentElement.setAttribute("data-theme",a),a})}export{A as B,R as a,x as b,M as c,i as d,B as l,I as t};
